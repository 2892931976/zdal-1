<?xml version="1.0" encoding="gbk"?>
<App name="zdal" dbmode="dev" idcName="gzone" zoneError="EXCEPTOIN">
  <AppDataSource name="test" dataBaseType="MYSQL" version="2" zoneDs="">
    <datasource name="test" dataSourceType="SHARD">
      <shard>
        <tableName>user</tableName>
        <dbRules>
          <dbRule>(Integer.valueOf(#USER_ID#)%8).intdiv(2)</dbRule>
        </dbRules>
        <tableRules>
          <tableRule>(Integer.valueOf(#USER_ID#)%8)%2</tableRule>
        </tableRules>
        <tableSuffix>througAllDB:[_00-_07]</tableSuffix>
        <dbIndex>group_00,group_01,group_02,group_03</dbIndex>
      </shard>
      <datasource name="group_00" dataSourceType="RW" readwriteRule="physics00:r10w10,physics00_00:r10w0">
        <datasource name="physics00" dataSourceType="PHYSICS">
          <jdbcUrl>jdbc:mysql://mysql-1-2.bjl.alipay.net:3306/zdal_00?useUnicode=true&amp;characterEncoding=gbk</jdbcUrl>
          <userName>mysql</userName>
          <password>-76079f94c1e11c89</password>
          <driverClass>com.mysql.jdbc.Driver</driverClass>
          <maxConn>10</maxConn>
          <minConn>1</minConn>
          <blockingTimeoutMillis>180</blockingTimeoutMillis>
          <idleTimeoutMinutes>180</idleTimeoutMinutes>
          <preparedStatementCacheSize>100</preparedStatementCacheSize>
          <queryTimeout>180</queryTimeout>
          <sqlValve>-1,1</sqlValve>
          <tableValve />
          <transactionValve>-1,1</transactionValve>
        </datasource>
        <datasource name="physics00_00" dataSourceType="PHYSICS">
          <jdbcUrl>jdbc:mysql://mysql-1-2.bjl.alipay.net:3306/zdal_00?useUnicode=true&amp;characterEncoding=gbk</jdbcUrl>
          <userName>mysql</userName>
          <password>-76079f94c1e11c89</password>
          <driverClass>com.mysql.jdbc.Driver</driverClass>
          <maxConn>10</maxConn>
          <minConn>1</minConn>
          <blockingTimeoutMillis>180</blockingTimeoutMillis>
          <idleTimeoutMinutes>180</idleTimeoutMinutes>
          <preparedStatementCacheSize>100</preparedStatementCacheSize>
          <queryTimeout>180</queryTimeout>
          <sqlValve>-1,1</sqlValve>
          <tableValve />
          <transactionValve>-1,1</transactionValve>
        </datasource>
      </datasource>
      <datasource name="group_01" dataSourceType="RW" readwriteRule="physics01:r10w10,physics01_00:r10w0">
        <datasource name="physics01" dataSourceType="PHYSICS">
          <jdbcUrl>jdbc:mysql://mysql-1-2.bjl.alipay.net:3306/zdal_01?useUnicode=true&amp;characterEncoding=gbk</jdbcUrl>
          <userName>mysql</userName>
          <password>-76079f94c1e11c89</password>
          <driverClass>com.mysql.jdbc.Driver</driverClass>
          <maxConn>10</maxConn>
          <minConn>1</minConn>
          <blockingTimeoutMillis>180</blockingTimeoutMillis>
          <idleTimeoutMinutes>180</idleTimeoutMinutes>
          <preparedStatementCacheSize>100</preparedStatementCacheSize>
          <queryTimeout>180</queryTimeout>
          <sqlValve>-1,1</sqlValve>
          <tableValve />
          <transactionValve>-1,1</transactionValve>
        </datasource>
        <datasource name="physics01_00" dataSourceType="PHYSICS">
          <jdbcUrl>jdbc:mysql://mysql-1-2.bjl.alipay.net:3306/zdal_01?useUnicode=true&amp;characterEncoding=gbk</jdbcUrl>
          <userName>mysql</userName>
          <password>-76079f94c1e11c89</password>
          <driverClass>com.mysql.jdbc.Driver</driverClass>
          <maxConn>10</maxConn>
          <minConn>1</minConn>
          <blockingTimeoutMillis>180</blockingTimeoutMillis>
          <idleTimeoutMinutes>180</idleTimeoutMinutes>
          <preparedStatementCacheSize>100</preparedStatementCacheSize>
          <queryTimeout>180</queryTimeout>
          <sqlValve>-1,1</sqlValve>
          <tableValve />
          <transactionValve>-1,1</transactionValve>
        </datasource>
      </datasource>
      <datasource name="group_02" dataSourceType="RW" readwriteRule="physics02:r10w10,physics02_00:r10w0">
        <datasource name="physics02" dataSourceType="PHYSICS">
          <jdbcUrl>jdbc:mysql://mysql-1-2.bjl.alipay.net:3306/zdal_02?useUnicode=true&amp;characterEncoding=gbk</jdbcUrl>
          <userName>mysql</userName>
          <password>-76079f94c1e11c89</password>
          <driverClass>com.mysql.jdbc.Driver</driverClass>
          <maxConn>10</maxConn>
          <minConn>1</minConn>
          <blockingTimeoutMillis>180</blockingTimeoutMillis>
          <idleTimeoutMinutes>180</idleTimeoutMinutes>
          <preparedStatementCacheSize>100</preparedStatementCacheSize>
          <queryTimeout>180</queryTimeout>
          <sqlValve>-1,1</sqlValve>
          <tableValve />
          <transactionValve>-1,1</transactionValve>
        </datasource>
        <datasource name="physics02_00" dataSourceType="PHYSICS">
          <jdbcUrl>jdbc:mysql://mysql-1-2.bjl.alipay.net:3306/zdal_02?useUnicode=true&amp;characterEncoding=gbk</jdbcUrl>
          <userName>mysql</userName>
          <password>-76079f94c1e11c89</password>
          <driverClass>com.mysql.jdbc.Driver</driverClass>
          <maxConn>10</maxConn>
          <minConn>1</minConn>
          <blockingTimeoutMillis>180</blockingTimeoutMillis>
          <idleTimeoutMinutes>180</idleTimeoutMinutes>
          <preparedStatementCacheSize>100</preparedStatementCacheSize>
          <queryTimeout>180</queryTimeout>
          <sqlValve>-1,1</sqlValve>
          <tableValve />
          <transactionValve>-1,1</transactionValve>
        </datasource>
      </datasource>
      <datasource name="group_03" dataSourceType="RW" readwriteRule="physics03:r10w10,physics03_00:r10w0">
        <datasource name="physics03" dataSourceType="PHYSICS">
          <jdbcUrl>jdbc:mysql://mysql-1-2.bjl.alipay.net:3306/zdal_03?useUnicode=true&amp;characterEncoding=gbk</jdbcUrl>
          <userName>mysql</userName>
          <password>-76079f94c1e11c89</password>
          <driverClass>com.mysql.jdbc.Driver</driverClass>
          <maxConn>10</maxConn>
          <minConn>1</minConn>
          <blockingTimeoutMillis>180</blockingTimeoutMillis>
          <idleTimeoutMinutes>180</idleTimeoutMinutes>
          <preparedStatementCacheSize>100</preparedStatementCacheSize>
          <queryTimeout>180</queryTimeout>
          <sqlValve>-1,1</sqlValve>
          <tableValve />
          <transactionValve>-1,1</transactionValve>
        </datasource>
        <datasource name="physics03_00" dataSourceType="PHYSICS">
          <jdbcUrl>jdbc:mysql://mysql-1-2.bjl.alipay.net:3306/zdal_03?useUnicode=true&amp;characterEncoding=gbk</jdbcUrl>
          <userName>mysql</userName>
          <password>-76079f94c1e11c89</password>
          <driverClass>com.mysql.jdbc.Driver</driverClass>
          <maxConn>10</maxConn>
          <minConn>1</minConn>
          <blockingTimeoutMillis>180</blockingTimeoutMillis>
          <idleTimeoutMinutes>180</idleTimeoutMinutes>
          <preparedStatementCacheSize>100</preparedStatementCacheSize>
          <queryTimeout>180</queryTimeout>
          <sqlValve>-1,1</sqlValve>
          <tableValve />
          <transactionValve>-1,1</transactionValve>
        </datasource>
      </datasource>
    </datasource>
  </AppDataSource>
  <AppDataSource name="test1" dataBaseType="MYSQL" version="1" zoneDs="">
    <datasource name="test1" dataSourceType="SHARD">
      <shard>
        <tableName>user</tableName>
        <dbRules>
          <dbRule>(Integer.valueOf(#USER_ID#)%8).intdiv(2)</dbRule>
        </dbRules>
        <tableRules>
          <tableRule>(Integer.valueOf(#USER_ID#)%8)%2</tableRule>
        </tableRules>
        <tableSuffix>througAllDB:[_00-_07]</tableSuffix>
        <dbIndex>SETBYRULE:M[_0-_3]</dbIndex>
      </shard>
      <datasource name="master" dataSourceType="FAILOVER" failoverRule="master">
        <datasource name="physics00" dataSourceType="PHYSICS">
          <jdbcUrl>jdbc:mysql://mysql-1-2.bjl.alipay.net:3306/zdal_00?useUnicode=true&amp;characterEncoding=gbk</jdbcUrl>
          <userName>mysql</userName>
          <password>-76079f94c1e11c89</password>
          <driverClass>com.mysql.jdbc.Driver</driverClass>
          <maxConn>10</maxConn>
          <minConn>1</minConn>
          <blockingTimeoutMillis>180</blockingTimeoutMillis>
          <idleTimeoutMinutes>180</idleTimeoutMinutes>
          <preparedStatementCacheSize>100</preparedStatementCacheSize>
          <queryTimeout>180</queryTimeout>
          <sqlValve>-1,1</sqlValve>
          <tableValve />
          <transactionValve>-1,1</transactionValve>
          <datasource name="master_0" dataSourceType="LOGIC" />
        </datasource>
        <datasource name="physics01" dataSourceType="PHYSICS">
          <jdbcUrl>jdbc:mysql://mysql-1-2.bjl.alipay.net:3306/zdal_01?useUnicode=true&amp;characterEncoding=gbk</jdbcUrl>
          <userName>mysql</userName>
          <password>-76079f94c1e11c89</password>
          <driverClass>com.mysql.jdbc.Driver</driverClass>
          <maxConn>10</maxConn>
          <minConn>1</minConn>
          <blockingTimeoutMillis>180</blockingTimeoutMillis>
          <idleTimeoutMinutes>180</idleTimeoutMinutes>
          <preparedStatementCacheSize>100</preparedStatementCacheSize>
          <queryTimeout>180</queryTimeout>
          <sqlValve>-1,1</sqlValve>
          <tableValve />
          <transactionValve>-1,1</transactionValve>
          <datasource name="master_1" dataSourceType="LOGIC" />
        </datasource>
        <datasource name="physics02" dataSourceType="PHYSICS">
          <jdbcUrl>jdbc:mysql://mysql-1-2.bjl.alipay.net:3306/zdal_02?useUnicode=true&amp;characterEncoding=gbk</jdbcUrl>
          <userName>mysql</userName>
          <password>-76079f94c1e11c89</password>
          <driverClass>com.mysql.jdbc.Driver</driverClass>
          <maxConn>10</maxConn>
          <minConn>1</minConn>
          <blockingTimeoutMillis>180</blockingTimeoutMillis>
          <idleTimeoutMinutes>180</idleTimeoutMinutes>
          <preparedStatementCacheSize>100</preparedStatementCacheSize>
          <queryTimeout>180</queryTimeout>
          <sqlValve>-1,1</sqlValve>
          <tableValve />
          <transactionValve>-1,1</transactionValve>
          <datasource name="master_2" dataSourceType="LOGIC" />
        </datasource>
        <datasource name="physics03" dataSourceType="PHYSICS">
          <jdbcUrl>jdbc:mysql://mysql-1-2.bjl.alipay.net:3306/zdal_03?useUnicode=true&amp;characterEncoding=gbk</jdbcUrl>
          <userName>mysql</userName>
          <password>-76079f94c1e11c89</password>
          <driverClass>com.mysql.jdbc.Driver</driverClass>
          <maxConn>10</maxConn>
          <minConn>1</minConn>
          <blockingTimeoutMillis>180</blockingTimeoutMillis>
          <idleTimeoutMinutes>180</idleTimeoutMinutes>
          <preparedStatementCacheSize>100</preparedStatementCacheSize>
          <queryTimeout>180</queryTimeout>
          <sqlValve>-1,1</sqlValve>
          <tableValve />
          <transactionValve>-1,1</transactionValve>
          <datasource name="master_3" dataSourceType="LOGIC" />
        </datasource>
      </datasource>
    </datasource>
  </AppDataSource>
</App>

